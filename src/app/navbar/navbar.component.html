<div class="h-full min-w-80 flex flex-col justify-between py-14 overflow-auto">
  @if (loading) {
    <div class="flex justify-center">
      <span class="loading loading-spinner loading-lg"></span>
    </div>
  }
  @else {
    <div class="w-full flex flex-col items-center">
      <input type="text" placeholder="Où voulez vous allez ?" class="input input-bordered w-full max-w-xs mb-6" (keyup)="requestPOI($event,1)" #firstPointName/>
      @if (showSuggestions) {
        @for (suggest of suggestions; track suggest ) {
          <div class="w-full flex flex-col justify-center items-center cursor-pointer" (click)="selectSuggestion(suggest)">
            <span class="hover:bg-base-300 w-full h-full py-4 flex justify-center" >{{ suggest.text.primary }}</span>
            <div class="divider"></div>
          </div>
        }
      }
      @if (showSecond) {
        <input type="text" (keyup)="requestPOI($event, 2)" placeholder="D'où partez vous ?" class="input input-bordered w-full max-w-xs mb-6" #secondePointName/>
        @if (showSecondSuggestions) {
          @for (suggest of suggestions; track suggest ) {
            <div class="w-full flex flex-col justify-center items-center cursor-pointer" (click)="selectSecondSuggestion(suggest)">
              <span class="hover:bg-base-300 w-full h-full py-4 flex justify-center" >{{ suggest.text.primary }}</span>
              <div class="divider"></div>
            </div>
          }
        }
      }
    </div>
    @if (vehicle != undefined) {
  <div>
  <div class="w-full flex justify-end pr-10">
    <div (click)="suppressVehicle()" class="cursor-pointer">
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" ><path fill="currentColor" d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"/></svg>
    </div>
  </div>
      <div class="card w-96 shadow-xl cursor-pointer bg-base-100">
        <figure class="px-2 pt-2">
          <img src="{{vehicle.media.image.thumbnail_url}}" alt="Car" class="rounded-xl" />
        </figure>
        <div class="card-body items-center text-center">
          <h2 class="card-title">{{vehicle.naming.make}} {{vehicle.naming.model}}</h2>
          <p>{{vehicle.naming.chargetrip_version}}</p>
        </div>
      </div>
  </div>
  }@else{
    <div class="flex flex-col justify-center items-center py-20">
      <p class="m-5">Choisissez un véhicule</p>
      <div class="flex justify-center">
        <button class="btn btn-primary w-full max-w-xs" (click)="navToList()" >
          Liste des véhicles
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M11 21H3v-8h2v4.59L17.59 5H13V3h8v8h-2V6.41L6.41 19H11v2Z"/></svg>
        </button>
      </div>
    </div>
  }
    <div class="flex justify-center">
      <button class="btn btn-primary w-full max-w-xs" (click)="requestRoad()">Rechercher</button>
    </div>
  }
</div>
